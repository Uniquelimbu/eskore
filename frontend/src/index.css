@import url('./styles/variables.css');

/* CSS Reset and Base Styles */
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Remove default margin and padding */
html {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  /* Remove overflow-x: hidden from html if present */
  /* overflow-x: hidden; */
  position: relative; /* Keep for stacking context if needed */
}

body {
  /* Default to dark background for most pages */
  background-color: #1A1F2C;
  margin: 0; /* Ensure body margin is 0 */
  padding: 0; /* Ensure body padding is 0 */
  height: 100%; /* Ensure body takes full height */
  width: 100%; /* Ensure body takes full width */
  overflow-x: hidden; /* Prevent horizontal scrolling on body */
  font-family: 'Inter', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Change default text color back to light */
  color: #e2e8f0; /* Was #2d3748 */
  transition: background-color 0.3s ease, color 0.3s ease;
  position: relative;
  overflow-y: auto !important; /* Ensure vertical scrolling works */
}

/* Utility: force light background for specific pages */
.page-bg-light {
  background-color: #f8f9fa !important;
  min-height: 100vh;
  width: 100%;
}

/* Light/dark mode support via data attribute - Remove dark theme rule as it's now default */
/* body[data-theme='dark'] { */
/*   background-color: #1a202c; */
/*   color: #f7fafc; */
/* } */

/* Reset default focus styles for dark background */
:focus {
  outline: none;
}

/* Only show focus styles when using keyboard navigation */
:focus-visible {
  outline: 2px solid #63b3ed; /* Lighter blue */
  outline-offset: 2px;
}

/* Custom focus styling for buttons and interactive elements */
button:focus, 
a:focus, 
input:focus, 
select:focus, 
textarea:focus {
  outline: none;
}

.sidebar-logo-link.sidebar-logo-refresh:focus,
.sidebar-logo-link.sidebar-logo-refresh:active,
.home-header__logo.no-outline:focus {
  outline: none !important;
  box-shadow: none !important;
}

button, input, select, textarea {
  font-family: inherit;
}

/* Accessibility improvements */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Button reset */
button {
  cursor: pointer;
  background: none;
  border: none;
  padding: 0;
}

/* Links for dark background */
a {
  color: #63b3ed; /* Lighter blue */
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  color: #90cdf4; /* Even lighter blue */
  text-decoration: underline;
}

/* Global loading spinner */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  color: #4a6cf7;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(74, 108, 247, 0.3);
  border-radius: 50%;
  border-top: 4px solid #4a6cf7;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Error messages for dark background */
.error-banner {
  background-color: #4a2424; /* Darker red background */
  color: #feb2b2; /* Lighter red text */
  padding: 12px 16px;
  border-radius: 6px;
  margin-bottom: 20px;
  border-left: 4px solid #f56565; /* Red border */
  font-size: 0.9rem;
}

/* Support high-contrast mode */
@media (forced-colors: active) {
  .loading-spinner {
    border-color: CanvasText;
    border-top-color: Highlight;
  }
  
  .error-banner {
    background-color: Canvas;
    border: 1px solid CanvasText;
  }
}

/* Error boundary styles */
.error-boundary {
  padding: 2rem;
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #2d3748; /* Dark text */
}

.error-reload-btn {
  margin-top: 20px;
  padding: 10px 20px;
  background-color: #4a6cf7;
  color: white;
  border-radius: 6px;
  font-weight: 600;
  transition: background-color 0.2s;
}

.error-reload-btn:hover {
  background-color: #3a5bd9;
}

/* Responsive typography */
html {
  font-size: 16px;
}

@media (max-width: 768px) {
  html {
    font-size: 14px;
  }
}

/* Custom scrollbar for webkit browsers - Dark theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #2d3748; /* Darker track */
}

::-webkit-scrollbar-thumb {
  background: #4a5568; /* Lighter thumb */
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #718096; /* Slightly lighter thumb on hover */
}

/* Prevent horizontal overflow for all content */
#root {
  min-height: 100%;
  display: flex;
  flex-direction: column;
  overflow-x: hidden; /* Keep overflow hidden on root */
  width: 100%; /* Ensure root takes full width */
}
